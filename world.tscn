[gd_scene load_steps=9 format=3]

[ext_resource type="Script" path="res://scripts/world.gd" id="1_world"]
[ext_resource type="PackedScene" path="res://player.tscn" id="2_player"]
[ext_resource type="PackedScene" path="res://hud.tscn" id="3_hud"]
[ext_resource type="PackedScene" path="res://scenes/test_map.tscn" id="4_test_map"]
[ext_resource type="Script" path="res://scripts/interactables/door.gd" id="5_door"]
[ext_resource type="Script" path="res://scripts/interactables/lore_pickup.gd" id="6_lore_pickup"]
[ext_resource type="Script" path="res://scripts/interactables/trigger_zone.gd" id="7_trigger_zone"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1"]
size = Vector2(60, 60)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2"]
size = Vector2(50, 50)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3"]
size = Vector2(80, 100)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4"]
size = Vector2(100, 100)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1"]
direction = Vector3(0, -1, 0)
spread = 45.0
gravity = Vector3(0, -20, 0)
initial_velocity_min = 5.0
initial_velocity_max = 15.0
scale_min = 0.5
scale_max = 1.5

[node name="World" type="Node2D"]
script = ExtResource("1_world")

[node name="Camera2D" type="Camera2D" parent="."]
position_smoothing_enabled = true
position_smoothing_speed = 8.0
limit_left = -2000
limit_top = -400
limit_right = 2000
limit_bottom = 450

[node name="Background" type="ColorRect" parent="."]
offset_left = -3000.0
offset_top = -1000.0
offset_right = 3000.0
offset_bottom = 1000.0
color = Color(0.05, 0.08, 0.12, 1)
z_index = -100

[node name="TestMap" parent="." instance=ExtResource("4_test_map")]
z_index = -50

[node name="FogLayer" type="CanvasLayer" parent="."]
layer = 5

[node name="Fog" type="ColorRect" parent="FogLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.02, 0.03, 0.05, 0.3)

[node name="Particles" type="Node2D" parent="."]
z_index = 10

[node name="CrystalDust" type="GPUParticles2D" parent="Particles"]
z_index = 10
amount = 50
lifetime = 8.0
emitting = true
one_shot = false
process_material = SubResource("ParticleProcessMaterial_1")

[node name="Player" parent="." instance=ExtResource("2_player")]
position = Vector2(0, 300)

[node name="HUD" parent="." instance=ExtResource("3_hud")]

[node name="Interactables" type="Node2D" parent="."]

[node name="LorePickup1" type="Area2D" parent="Interactables"]
position = Vector2(-800, 260)
script = ExtResource("6_lore_pickup")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/LorePickup1"]
shape = SubResource("RectangleShape2D_2")

[node name="PickupSprite" type="ColorRect" parent="Interactables/LorePickup1"]
offset_left = -25.0
offset_top = -25.0
offset_right = 25.0
offset_bottom = 25.0
color = Color(0.25, 0.28, 0.32, 1)

[node name="Door1" type="StaticBody2D" parent="Interactables"]
position = Vector2(800, 292)

[node name="DoorArea" type="Area2D" parent="Interactables/Door1"]
script = ExtResource("5_door")

[node name="DoorAreaCollision" type="CollisionShape2D" parent="Interactables/Door1/DoorArea"]
shape = SubResource("RectangleShape2D_3")

[node name="DoorSprite" type="ColorRect" parent="Interactables/Door1"]
offset_left = -40.0
offset_top = -50.0
offset_right = 40.0
offset_bottom = 50.0
color = Color(0.20, 0.23, 0.27, 1)

[node name="DoorCollision" type="CollisionShape2D" parent="Interactables/Door1"]
shape = SubResource("RectangleShape2D_3")

[node name="TriggerZone1" type="Area2D" parent="Interactables"]
position = Vector2(0, -100)
script = ExtResource("7_trigger_zone")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/TriggerZone1"]
shape = SubResource("RectangleShape2D_4")
